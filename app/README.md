# Документация по сборке и запуску проекта

Этот проект представляет собой приложение на Python, которое взаимодействует с базой данных PostgreSQL, используя SQLAlchemy и psycopg.

#### 1. Сборка и запуск проекта

##### 1.1. Установка зависимостей

Перед тем как начать, убедитесь, что у вас установлены все необходимые зависимости.

1. **Создание виртуального окружения (опционально)**:
   Рекомендуется использовать виртуальное окружение для изоляции зависимостей проекта.

   ```bash
   python -m venv venv
   ```

2. **Активирование виртуального окружения**:
   - Для Windows:

     ```bash
     venv\Scripts\activate
     ```

   - Для MacOS/Linux:

     ```bash
     source venv/bin/activate
     ```

3. **Установка зависимостей**:
   Установите необходимые библиотеки, указанные в `requirements.txt`.

   ```bash
   pip install -r requirements.txt
   ```

##### 1.2. Сборка Docker-образа

Чтобы запустить приложение в Docker-контейнере, выполните следующие шаги:

1. **Создайте Docker-образ**:
   В терминале, в корневой папке проекта, выполните команду:

   ```bash
   docker build -t my-python-app .
   ```

   Это создаст Docker-образ с тегом `my-python-app` из Dockerfile в вашем проекте.

2. **Запустите Docker-контейнер**:
   Запустите контейнер с необходимыми переменными окружения для подключения к PostgreSQL:

   ```bash
   docker run -d \
     -e DB_HOST=<ваш_host> \
     -e DB_PORT=5432 \
     -e DB_USER=<ваше_пользовательское_имя> \
     -e DB_PASS=<ваш_пароль> \
     -e DB_NAME=<имя_базы_данных> \
     my-python-app
   ```

   Замените `<ваш_host>`, `<ваше_пользовательское_имя>`, `<ваш_пароль>`, и `<имя_базы_данных>` на ваши данные.

##### 1.3. Запуск приложения без Docker

Если вы хотите запустить приложение без использования Docker, просто выполните основной скрипт Python, который взаимодействует с Postgres. Убедитесь, что файл `.env` правильно настроен:

```bash
python src/run.py
```

#### 2. Переменные окружения

Конфигурация приложения происходит через переменные окружения, которые можно задать в файле `.env` или непосредственно в среде. Ниже приведены переменные окружения, которые можно настроить для проекта:

1. **`DB_HOST`**:
   - **Описание**: Адрес хоста базы данных.
   - **Тип**: строка
   - **Пример**: `localhost`

2. **`DB_PORT`**:
   - **Описание**: Порт базы данных.
   - **Тип**: целое число
   - **Пример**: `5432`

3. **`DB_USER`**:
   - **Описание**: Имя пользователя базы данных.
   - **Тип**: строка
   - **Пример**: `myuser`

4. **`DB_PASS`**:
   - **Описание**: Пароль для доступа к базе данных.
   - **Тип**: строка
   - **Пример**: `mypassword`

5. **`DB_NAME`**:
   - **Описание**: Имя базы данных.
   - **Тип**: строка
   - **Пример**: `mydatabase`

Этот документ поможет вам быстро настроить и запустить ваше приложение, которое взаимодействует с базой данных PostgreSQL. Убедитесь, что база данных PostgreSQL правильно настроена и доступна перед запуском вашего приложения.
